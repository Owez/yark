@page "/archive"
@inject Blazored.SessionStorage.ISyncSessionStorageService SessionStorage
@using YarkApiClient

@if (Name != null)
{
    <h1 class="dashboard-title">@Name's archive</h1>
}
@if (Archive != null)
{
    <div class="cards">
    <YarkBlazor.Components.Dashboard.VideoCollectionCount Count=@Archive.Videos.Data.Count
        VideoCollectionKind=@VideoCollectionKind.Videos />
    <YarkBlazor.Components.Dashboard.Card CardKind=@CardKind.Middle />
    <YarkBlazor.Components.Dashboard.Card CardKind=@CardKind.Right />
    <YarkBlazor.Components.Dashboard.Card CardKind=@CardKind.Full />
    <YarkBlazor.Components.Dashboard.Card CardKind=@CardKind.BigLeft />
    <YarkBlazor.Components.Dashboard.Card CardKind=@CardKind.Right />
</div>
}

<style scoped>
    .cards {
        width: calc(100% - 30px);
        min-width: 725px;
        display: grid;
        grid-template-columns: 3;
        gap: 20px;
    }
</style>

@code {
    string? Name { get; set; } = null;

    Archive? Archive { get; set; } = null;

    protected override void OnInitialized()
    {
        Name = SessionStorage.GetItem<string>("OpenedArchiveName");
        Archive = SessionStorage.GetItem<Archive>("OpenedArchive");

        base.OnInitialized();
    }
}