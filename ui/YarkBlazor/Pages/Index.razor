@page "/"
@inject NavigationManager navManager
@inject Blazored.SessionStorage.ISyncSessionStorageService sessionStorage
@using YarkApiClient
@using System.Text.Json

@* This page is intended to be the landing page on startup *@

@code {
    protected override void OnInitialized()
    {
        ArchiveMeta? openedArchive = sessionStorage.GetItem<ArchiveMeta>("openedArchive");
        if (openedArchive == null)
        {
            navManager.NavigateTo("/start");
        }
        else
        {
            navManager.NavigateTo("/archive");
        }
    }
}